# 问题二输出图表详细解释

本文档详细解释了问题二（教师教学评价标准化与汇总）中所有输出图表和数据文件的含义、用途以及如何正确解读这些结果。

## 目录

1. [探索性数据分析 (EDA)](#1-探索性数据分析-eda)
2. [模型诊断 (Diagnostics)](#2-模型诊断-diagnostics)
3. [结果可视化 (Results_Visualization)](#3-结果可视化-results_visualization)
4. [数据文件解释](#4-数据文件解释)

## 1. 探索性数据分析 (EDA)

探索性数据分析部分的图表主要用于理解原始数据的分布特征和各学院、专家组的评分模式。

### 1.1 overall_score_distribution.png

**图表类型**：直方图+核密度估计曲线

**内容**：展示了所有教师评分的整体分布情况。

**解读方法**：
- 横轴表示原始评分值，纵轴表示频数（即有多少教师获得了该分数）
- 蓝色柱状图表示不同分数区间的频数分布
- 曲线表示核密度估计，可以看作是平滑后的直方图，更清晰地展示分布形态
- 观察分布是否接近正态分布，是否有偏态（左偏或右偏）
- 注意分布的集中趋势（平均分附近）和离散程度（分布的宽窄）

**重要发现**：
- 如果分布呈现双峰或多峰，可能表明存在不同的评分标准或群体
- 如果分布严重偏离正态分布，可能表明评分存在系统性偏差

### 1.2 college_scores_boxplot.png

**图表类型**：箱线图

**内容**：展示了各学院教师评分的分布情况。

**解读方法**：
- 横轴表示不同学院，纵轴表示原始评分
- 每个箱体代表一个学院的评分分布
- 箱体中间的线表示中位数
- 箱体的上下边界分别表示第三四分位数（Q3）和第一四分位数（Q1）
- 箱体延伸出的"胡须"表示非异常值的范围，通常为Q1-1.5IQR到Q3+1.5IQR（IQR=Q3-Q1）
- 箱体外的点表示异常值（离群点）

**重要发现**：
- 比较不同学院的中位数高低，了解各学院评分的整体水平
- 观察箱体的高度，了解各学院内部评分的一致性（箱体越高，内部差异越大）
- 注意异常值的分布，特别是某些学院是否有特别高或特别低的评分
- 识别评分标准可能不一致的学院（中位数相差较大或分布形态差异明显）

### 1.3 college_H_expert_groups_boxplot.png / college_P_expert_groups_boxplot.png / college_T_expert_groups_boxplot.png

**图表类型**：箱线图

**内容**：分别展示了H、P、T三个特殊学院内部各专家组的评分分布。

**解读方法**：
- 横轴表示不同专家组（如H_Group一、H_Group二等）
- 纵轴表示原始评分
- 每个箱体代表一个专家组的评分分布
- 箱体结构解读同上

**重要发现**：
- 观察同一学院内不同专家组的评分水平差异
- 比较专家组间的评分分布形态，了解专家组间的评分标准一致性
- 识别特别严格或特别宽松的专家组
- 这些图表对于理解多专家组评分的内部差异至关重要，是后续模型校正的重要依据

## 2. 模型诊断 (Diagnostics)

模型诊断部分的图表主要用于评估贝叶斯模型的拟合质量、参数收敛性和效应估计。

### 2.1 trace_plots.png

**图表类型**：MCMC采样轨迹图

**内容**：展示了模型主要参数（全局均值、学院效应标准差、专家组效应标准差、误差标准差）的MCMC采样轨迹。

**解读方法**：
- 左侧为参数后验分布的核密度估计
- 右侧为MCMC链的采样轨迹
- 每种颜色代表一条独立的MCMC链
- 观察链是否混合良好（不同颜色的链应当相互交织，没有明显分离）
- 观察链是否稳定（没有明显的趋势或突变）

**重要发现**：
- 如果链混合良好且稳定，表明MCMC采样收敛良好
- 如果链分离或有明显趋势，可能表明模型存在问题或需要更长的预热期
- 这是评估贝叶斯模型可靠性的关键诊断图

### 2.2 posterior_plots.png

**图表类型**：后验分布图

**内容**：展示了模型主要参数的后验分布。

**解读方法**：
- 每个小图展示一个参数的后验分布
- 蓝色区域表示94%的高密度区间（HDI）
- 垂直线表示后验分布的均值或中位数
- 观察分布的形状、集中趋势和不确定性范围

**重要发现**：
- 后验分布的宽窄反映了参数估计的不确定性
- 如果后验分布接近先验分布，可能表明数据对该参数的信息量较少
- 参数的后验均值是我们用于校正评分的最佳估计

### 2.3 college_effects_forest.png

**图表类型**：森林图

**内容**：展示了各学院评分效应（alpha_college）的后验分布。

**解读方法**：
- 横轴表示效应大小，纵轴表示不同学院
- 点表示后验均值，水平线表示94%的高密度区间
- 如果区间不包含0，表明该学院的评分效应在统计上显著不同于0
- 正值表示该学院评分偏高，负值表示评分偏低

**重要发现**：
- 识别评分特别严格或特别宽松的学院
- 了解各学院评分效应的不确定性大小
- 这些效应是校正不同学院评分标准差异的关键参数

### 2.4 expert_group_effects_forest.png

**图表类型**：森林图

**内容**：展示了各专家组评分效应（beta_expert_group）的后验分布。

**解读方法**：
- 横轴表示效应大小，纵轴表示不同专家组
- 点表示后验均值，水平线表示94%的高密度区间
- 如果区间不包含0，表明该专家组的评分效应在统计上显著不同于0
- 正值表示该专家组评分偏高，负值表示评分偏低

**重要发现**：
- 识别评分特别严格或特别宽松的专家组
- 了解各专家组评分效应的不确定性大小
- 这些效应是校正同一学院内不同专家组评分标准差异的关键参数

### 2.5 college_effects_simplified.png / expert_group_effects_simplified.png

**图表类型**：条形图

**内容**：简化版的学院效应和专家组效应可视化。

**解读方法**：
- 横轴表示效应大小，纵轴表示不同学院或专家组
- 条形长度表示效应大小
- 红色虚线表示零效应基准线

**重要发现**：
- 这些图表提供了更直观的效应大小比较
- 可以快速识别效应最大和最小的学院或专家组
- 与森林图相比，这些图表没有展示不确定性信息

## 3. 结果可视化 (Results_Visualization)

结果可视化部分的图表主要用于比较校正前后的评分分布和排名变化。

### 3.1 score_distributions_comparison.png

**图表类型**：直方图+核密度估计曲线（对比）

**内容**：对比展示了原始评分和校正后评分的分布。

**解读方法**：
- 左图为原始评分分布，右图为校正后评分分布
- 观察分布形态的变化，特别是峰值、对称性和离散程度
- 校正后的分布应当更接近正态分布，且集中趋势更明确

**重要发现**：
- 校正是否有效减少了评分的系统性偏差
- 校正后分布是否更加合理（如更接近正态分布）
- 校正后分布的均值和标准差是否符合预期目标（均值85，标准差5）

### 3.2 college_scores_comparison.png

**图表类型**：箱线图（对比）

**内容**：对比展示了各学院原始评分和校正后评分的分布。

**解读方法**：
- 上图为各学院原始评分分布，下图为校正后评分分布
- 比较校正前后各学院评分的中位数、四分位距和异常值
- 校正后的箱线图应当更加一致，中位数差异减小

**重要发现**：
- 校正是否有效减少了学院间的系统性评分差异
- 校正后各学院的评分标准是否更加统一
- 是否仍有某些学院的评分分布特别异常

### 3.3 college_H_comparison.png / college_P_comparison.png / college_T_comparison.png

**图表类型**：箱线图（对比）

**内容**：分别对比展示了H、P、T三个特殊学院内部各专家组原始评分和校正后评分的分布。

**解读方法**：
- 上图为各专家组原始评分分布，下图为校正后评分分布
- 比较校正前后各专家组评分的中位数、四分位距和异常值
- 校正后的箱线图应当更加一致，中位数差异减小

**重要发现**：
- 校正是否有效减少了同一学院内不同专家组的评分差异
- 校正后各专家组的评分标准是否更加统一
- 是否仍有某些专家组的评分分布特别异常

### 3.4 rank_comparison_scatter.png

**图表类型**：散点图

**内容**：展示了教师在原始排名和校正后排名的对应关系。

**解读方法**：
- 横轴表示原始排名，纵轴表示校正后排名
- 每个点代表一位教师，颜色表示所属学院
- 对角线表示排名不变的基准线
- 点在对角线上方表示排名下降，点在对角线下方表示排名上升
- 点离对角线越远，表示排名变化越大

**重要发现**：
- 整体排名变化的模式（是否大部分教师排名变化不大）
- 特定学院的教师排名是否有系统性的上升或下降
- 排名变化特别大的教师所属的学院或专家组

## 4. 数据文件解释

除了图表外，输出目录中还包含了一些重要的数据文件，下面对这些文件进行解释。

### 4.1 model_summary.csv

**内容**：贝叶斯模型参数的后验统计摘要。

**解读方法**：
- 每行对应一个模型参数
- 列包括后验均值、标准差、高密度区间等统计量
- 特别关注mu_global（全局均值）、sigma_college（学院效应标准差）、sigma_expert_group（专家组效应标准差）和sigma_error（误差标准差）这些关键参数

**重要发现**：
- 参数的后验估计值及其不确定性
- 效应的统计显著性（通过高密度区间是否包含0判断）
- 不同层次效应的相对大小（如学院效应vs专家组效应）

### 4.2 corrected_scores.csv

**内容**：包含原始评分和校正后评分的完整数据集。

**解读方法**：
- 每行对应一位教师的评分记录
- 列包括学院ID、专家组ID、教师ID、原始评分、校正后评分和最终评分
- 最终评分是经过标准化处理（均值85，标准差5）并限制在60-100范围内的分数

**重要发现**：
- 校正前后评分的具体变化
- 不同学院和专家组的教师评分校正幅度
- 最终评分的分布特征

### 4.3 college_statistics.csv / expert_group_statistics.csv

**内容**：分别提供了各学院和各专家组评分的统计摘要。

**解读方法**：
- 每行对应一个学院或专家组
- 列包括样本数量、均值、标准差、最小值、最大值和极差等统计量
- 通过这些统计量可以快速了解各学院和专家组的评分特征

**重要发现**：
- 评分最高和最低的学院或专家组
- 内部一致性最高和最低的学院或专家组（通过标准差或极差判断）
- 样本量差异（某些学院或专家组的样本量可能特别小）

### 4.4 significant_rank_changes.csv

**内容**：列出了排名变化最显著的教师。

**解读方法**：
- 每行对应一位排名变化较大的教师
- 列包括学院ID、专家组ID、教师ID、原始评分、最终评分、原始排名、最终排名和排名变化
- 正的排名变化值表示排名上升，负值表示排名下降

**重要发现**：
- 排名变化最大的教师来自哪些学院或专家组
- 这些教师的原始评分和校正后评分有何特点
- 是否存在系统性的排名变化模式（如某些学院的教师普遍排名上升或下降）

### 4.5 problem2_analysis_results.md

**内容**：问题二的完整分析报告，综合了上述所有结果。

**解读方法**：
- 按照数据概览、各学院评分特点、模型结构与参数、校正效果分析和结论与解释等部分逐一阅读
- 关注报告中的关键发现和数据解释
- 结合图表和数据文件深入理解分析结果

**重要发现**：
- 模型的主要发现和结论
- 校正方法的有效性评估
- 对教师评价体系的建议和改进方向

## 总结

通过系统性地解读上述图表和数据文件，可以全面理解问题二中贝叶斯层级模型的工作原理、校正效果和主要发现。这些可视化和数据分析结果共同支持了一个重要结论：层级贝叶斯模型能够有效识别并剥离学院和专家组层面的系统性评分偏差，从而构建更公平、更合理的教师评价标准化体系。 